<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thrissur Pooram</title>
    <!-- bootstrap cdn -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="icon" href="https://scontent.fccj6-2.fna.fbcdn.net/v/t39.30808-6/342359741_914300079862612_6950213604881326808_n.jpg?_nc_cat=110&cb=99be929b-59f725be&ccb=1-7&_nc_sid=09cbfe&_nc_ohc=uo5Jf-VOL4YAX9DlBzd&_nc_ht=scontent.fccj6-2.fna&oh=00_AfAE17OGFfHxZBFLxxbXeEx-KwUTt-2Otgq4wfwviNwP5Q&oe=64A7A066" type="image/gif" sizes="16x16">
    <!-- font awesome cdn -->
    <script src="https://kit.fontawesome.com/fc30045006.js" crossorigin="anonymous"></script>
    <!-- ajax library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.5.1/html2canvas.min.js"></script>
</head>
<body>
    <div class="container" id="content">
        <div class="row" style="text-align: center;">
            <h1 style="margin-top: 10px;font-weight: 700;border-bottom: 1px solid black;">The Thrissur Pooram <br> Exhibition 2024</h1>
            <div class="col-lg-6">
                <p>Bill NO:</p>
            </div>
            <div class="col-lg-6">
                <p>Date:15-02-2024</p>
            </div>
        </div>
        <div class="text-center p-3" style="max-width: 500px;margin: 0 auto;">
            <h5 style="text-align:center; font-weight: 600;">Receipt</h5>
            <table class="mx-auto" style="max-width: 300px;">
                <tbody>
                    <tr>
                        <td style="text-align:left;font-weight: 600;">Stall Name</td>
                        <td style="text-align:right; font-weight: 600;">ABC Private Limited</td>
                    </tr>
                    <tr>
                        <td style="text-align:left;font-weight: 600;">Name of Person</td>
                        <td style="text-align:right; font-weight: 600;">Sudhakaran Nambiar</td>
                    </tr>
                    <tr>
                        <td style="text-align:left;"></td>
                        <td style="text-align:right; font-weight: 600;">Amount 20000 </td>
                    </tr>
                    <tr>
                        <td style="text-align:left;"></td>
                        <td style="text-align:right; font-weight:600;">CGST(9%) 250</td>
                    </tr>
                    <tr>
                        <td style="text-align:left;"></td>
                        <td style="text-align:right; font-weight: 600;">SGST(9%) 250</td>
                    </tr>
                    <tr>
                        <td style="text-align:left;"></td>
                        <td style="text-align:right; font-weight: 600;">IGST(18%) <span style="border-bottom: 1px solid black;">250</span></td>
                    </tr>
                    <tr>
                        <td style="text-align:left;"></td>
                        <td style="text-align:right; font-weight: 700;">Total <span style="border-bottom: 3px double black;">21000</span></td>
                    </tr>
                </tbody>
            </table>
            <button id="shareButton">Share</button>
        </div>
    </div>
   
    
    <script>
        document.getElementById('shareButton').addEventListener('click', function() {
            var contentDiv = document.getElementById('content');
            
            // Use html2canvas to capture the div content
            html2canvas(contentDiv).then(function(canvas) {
                // Convert the canvas to an image data URL
                var imageDataURL = canvas.toDataURL('image/jpeg', 0.8); // JPEG format with quality 0.8
                
                // Construct the content to be shared
                var shareContent = {
                    files: [new File([dataURItoBlob(imageDataURL)], 'image.jpg', { type: 'image/jpeg' })]
                };
                
                // Check if the Web Share API is supported
                if (navigator.share) {
                    navigator.share(shareContent)
                        .then(() => console.log('Shared successfully'))
                        .catch((error) => console.error('Error sharing:', error));
                } else {
                    // Fallback for browsers that don't support Web Share API
                    alert("Web Share API is not supported in this browser.");
                }
            });
        });
        
        // Function to convert data URI to Blob
        function dataURItoBlob(dataURI) {
            var byteString = atob(dataURI.split(',')[1]);
            var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];
            var ab = new ArrayBuffer(byteString.length);
            var ia = new Uint8Array(ab);
            for (var i = 0; i < byteString.length; i++) {
                ia[i] = byteString.charCodeAt(i);
            }
            var blob = new Blob([ab], { type: mimeString });
            return blob;
        }
    </script>
</body>
</html>
